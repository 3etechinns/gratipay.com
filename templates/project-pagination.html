{% set start = max(1, current_page - 5) %}
{% set last_page = ceil(total_project_count / projects_per_page) | int %}
{% set end = min(start + 9, last_page) %}

<ul class="pagination">
    <li class="arrow-button arrow-left">
    {% if current_page > 1 %}
        <a href="/?status={{status_filter}}&page={{current_page - 1}}"><span class="arrow"><</span> Back</a>
    {% endif %}
    </li>

    <li class="numbered-list">

    <span class="show-on-mobile">Page {{current_page}} of {{last_page}}</span>

    {% for i in range(start, end + 1) %}<a
        class="{{'selected' if current_page == i }} hide-on-mobile"
        href="/?status={{status_filter}}&page={{i}}"
        >{{i}}</a>{% endfor %}
    </li>

    <li class="arrow-button arrow-right">
    {% if current_page < last_page %}
        <a href="/?status={{status_filter}}&page={{current_page + 1}}">Next <span class="arrow">></span></a>
    {% endif %}
    </li>
</ul>
